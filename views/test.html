<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SweetAlert with Progress Bar</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        /* Button Styling */
        #showToastBtn {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
        }
        #showToastBtn:hover {
            background-color: #218838;
        }
    </style>
</head>
<body>

    <button id="showToastBtn">Show Notification</button>

    <script>
        function showModernToast({
            title = '',
            description = '',
            iconType = 'success',
            position = 'top-right',
            timer = 4000, // 4 seconds
            hasCloseButton = true,
        }) {
            Swal.fire({
                toast: true,
                position: position,
                icon: iconType,
                title: `<strong style="color:#222222">${title}</strong>`,
                html: description
                    ? `<p style="margin: 0; font-size: 12px; color: #666;">${description}</p>`
                    : '',
                customClass: {
                    popup: 'modern-toast',
                    closeButton: hasCloseButton ? 'swal-close-btn' : '',
                },
                showConfirmButton: false,
                timer: timer,
                timerProgressBar: true,
                showCloseButton: hasCloseButton,
                didOpen: (toast) => {
                    toast.addEventListener('mouseenter', Swal.stopTimer);
                    toast.addEventListener('mouseleave', Swal.resumeTimer);
                },
            });

            // Redirect after the toast disappears
            setTimeout(() => {
                location.href = '../index.html';
            }, timer); // Timer matches SweetAlert auto-close time
        }

        // Attach function to button click
        document.getElementById("showToastBtn").addEventListener("click", function () {
            showModernToast({
                title: "Login Successful",
                description: "Welcome back, User!",
                iconType: "success",
                position: "top-right",
                timer: 5000, // 5 seconds
                hasCloseButton: true,
            });
        });
    </script>

</body>
</html>
